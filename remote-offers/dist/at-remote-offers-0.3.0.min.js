/**
 * Copyright 2016 Adobe Systems, Inc. http://www.adobe.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(1),r(2),e.exports=r(3)},function(e,t){(function(e){/* Polyfill service v3.11.0
	 * For detailed credits and licence information see http://github.com/financial-times/polyfill-service.
	 * 
	 * UA detected: chrome/54.0.0
	 * Features requested: WeakMap
	 * 
	 * - Object.defineProperty, License: CC0 (required by "WeakMap")
	 * - Array.prototype.forEach, License: CC0 (required by "WeakMap")
	 * - Date.now, License: CC0 (required by "WeakMap")
	 * - WeakMap, License: https://github.com/webcomponents/webcomponentsjs/blob/master/LICENSE.md */
(function(e){"defineProperty"in Object&&function(){try{var e={};return Object.defineProperty(e,"test",{value:42}),!0}catch(e){return!1}}()||!function(e){var t=Object.prototype.hasOwnProperty("__defineGetter__"),r="Getters & setters cannot be defined on this javascript engine",n="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function(i,o,a){if(e&&(i===window||i===document||i===Element.prototype||i instanceof Element))return e(i,o,a);var s=String(o),u="value"in a||"writable"in a,c="get"in a&&typeof a.get,d="set"in a&&typeof a.set;if(null===i||!(i instanceof Object||"object"==typeof i))throw new TypeError("Object must be an object (Object.defineProperty polyfill)");if(!(a instanceof Object))throw new TypeError("Descriptor must be an object (Object.defineProperty polyfill)");if(c){if("function"!==c)throw new TypeError("Getter expected a function (Object.defineProperty polyfill)");if(!t)throw new TypeError(r);if(u)throw new TypeError(n);i.__defineGetter__(s,a.get)}else i[s]=a.value;if(d){if("function"!==d)throw new TypeError("Setter expected a function (Object.defineProperty polyfill)");if(!t)throw new TypeError(r);if(u)throw new TypeError(n);i.__defineSetter__(s,a.set)}return"value"in a&&(i[s]=a.value),i}}(Object.defineProperty),"forEach"in Array.prototype||(Array.prototype.forEach=function(t){if(this===e||null===this)throw new TypeError(this+"is not an object");if(!(t instanceof Function))throw new TypeError(t+" is not a function");for(var r=Object(this),n=arguments[1],i=r instanceof String?r.split(""):r,o=Math.max(Math.min(i.length,9007199254740991),0)||0,a=-1;++a<o;)a in i&&t.call(n,i[a],a,r)}),"Date"in this&&"now"in this.Date&&"getTime"in this.Date.prototype||(Date.now=function(){return(new Date).getTime()}),function(e){if(!("WeakMap"in e))return!1;var t={},r=new WeakMap([[t,"test"]]);return"test"===r.get(t)}(this)||/**
	 * @license
	 *
	 * Portions of this polyfill are a derivative work of the Polymer project, which requires the following licence notice:
	 *
	 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	 */
!function(t){var r=Object.defineProperty,n=Date.now()%1e9,i=function(e){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__"),e&&e.forEach&&e.forEach(function(e){this.set.apply(this,e)},this)};i.prototype.set=function(e,t){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Invalid value used as weak map key");var n=e[this.name];return n&&n[0]===e?n[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},i.prototype.get=function(t){var r;return(r=t[this.name])&&r[0]===t?r[1]:e},i.prototype.delete=function(t){var r=t[this.name];return!(!r||r[0]!==t)&&(r[0]=r[1]=e,!0)},i.prototype.has=function(e){var t=e[this.name];return!!t&&t[0]===e},this.WeakMap=i}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof e&&e||{})}).call(t,function(){return this}())},function(e,t){/**
	 * @license
	 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
	 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
	 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
	 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
	 * Code distributed by Google as part of the polymer project is also
	 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
	 */
!function(e){function t(e){w.push(e),g||(g=!0,v(n))}function r(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function n(){g=!1;var e=w;w=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var r=e.takeRecords();i(e),r.length&&(e.callback_(r,e),t=!0)}),t&&n()}function i(e){e.nodes_.forEach(function(t){var r=b.get(t);r&&r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var r=e;r;r=r.parentNode){var n=b.get(r);if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o.options;if(r===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++O}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function c(e,t){return E=new s(e,t)}function d(e){return M?M:(M=u(E),M.oldValue=e,M)}function f(){E=M=void 0}function l(e){return e===M||e===E}function h(e,t){return e===t?e:M&&l(e)?M:null}function p(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var v,b=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))v=setTimeout;else if(window.setImmediate)v=window.setImmediate;else{var m=[],y=String(Math.random());window.addEventListener("message",function(e){if(e.data===y){var t=m;m=[],t.forEach(function(e){e()})}}),v=function(e){m.push(e),window.postMessage(y,"*")}}var g=!1,w=[],O=0;a.prototype={observe:function(e,t){if(e=r(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=b.get(e);n||b.set(e,n=[]);for(var i,o=0;o<n.length;o++)if(n[o].observer===this){i=n[o],i.removeListeners(),i.options=t;break}i||(i=new p(this,e,t),n.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=b.get(e),r=0;r<t.length;r++){var n=t[r];if(n.observer===this){n.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,M;p.prototype={enqueue:function(e){var r=this.observer.records_,n=r.length;if(r.length>0){var i=r[n-1],o=h(i,e);if(o)return void(r[n-1]=o)}else t(this.observer);r[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=b.get(e);t||b.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=b.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,n=e.target,i=new c("attributes",n);i.attributeName=t,i.attributeNamespace=r;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(n,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||e.attributeFilter.indexOf(t)!==-1||e.attributeFilter.indexOf(r)!==-1))return e.attributeOldValue?d(a):i});break;case"DOMCharacterDataModified":var n=e.target,i=c("characterData",n),a=e.prevValue;o(n,function(e){if(e.characterData)return e.characterDataOldValue?d(a):i});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,u,l=e.target;"DOMNodeInserted"===e.type?(s=[l],u=[]):(s=[],u=[l]);var h=l.previousSibling,p=l.nextSibling,i=c("childList",e.target.parentNode);i.addedNodes=s,i.removedNodes=u,i.previousSibling=h,i.nextSibling=p,o(e.relatedNode,function(e){if(e.childList)return i})}f()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a,a._isPolyfilled=!0)}}(window)},function(e,t,r){/*!
	 * adobe.target.ext.remoteoffers.js v0.3.0
	 *
	 * Copyright 1996-2016. Adobe Systems Incorporated. All rights reserved.
	 *
	 * Example:
	    adobe.target.ext.remoteoffers(
	    [
	        {
	            'url': '/promotion1.html',          //remote offer url (required, must be same domain)
	            'selector': '.menu a',              //CSS selector of element to deliver offer to
	            'success': function(){},      //successful callback
	            'error':   function(){},      //error handler
	            'method': 'replace'                 //method to handle offer injection into DOM: 'append' (default) or 'replace'
	        },
	        {
	            'url': '/promotion2.html',
	            'selector': '#banner'
	        }
	    ]
	    );
	 */
!function(e,t,n){"use strict";function i(e){e.forEach(function(e){e.style.visibility="visible"})}function o(e,t,r,n){r().length&&(n(),t.disconnect())}function a(r,n,a){var s=3e4,u={childList:!0,subtree:!0},c=new e.MutationObserver(function(e){return o(e,c,r,n)});c.observe(t.documentElement,u),e.setTimeout(function(){a.error("Timed out"),c.disconnect(),i(r())},s)}function s(e){var r=t.getElementsByTagName("head")[0];if(r){var n=t.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),r.insertBefore(n,r.firstChild)}}function u(e,r,o,u,c,f){f.log("getOffer");var l=r+"{visibility:hidden}";s(l),d.ajax({url:e},function(s,d){200===s&&d?a(function(){return t.querySelectorAll(r)},function(){n.applyOffer({offer:[{type:"actions",content:[{selector:r,content:d,action:(c?c:"append")+"Content"}]}]}),f.log("Offer applied to "+r),"function"==typeof o&&(f.log("Success handler"),o())},f):(f.error("Error loading content for "+e+", status: "+s),i(t.querySelectorAll(r)),"function"==typeof u&&(f.error("Error handler"),u()))})}function c(e,t){e.filter(function(e){return!(!e.url||!e.selector)||(t.error("Missing URL or selector"),!1)}).forEach(function(e){u(e.url,e.selector,e.success,e.error,e.method,t)})}var d=r(4);adobe.target.registerExtension({name:"remoteoffers",modules:["logger"],register:function(e){return function(t){c(t,e)}}})}(window,document,adobe.target)},function(e,t){(function(e){function r(t){return t&&e.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent)?new XDomainRequest:e.XMLHttpRequest?new XMLHttpRequest:void 0}function n(e,t,r){e[t]=e[t]||r}var i=["responseType","withCredentials","timeout","onprogress"];t.ajax=function(t,o){function a(e,t){return function(){d||(o(void 0===f.status?e:f.status,0===f.status?"Error":f.response||f.responseText||t,f),d=!0)}}var s=t.headers||{},u=t.body,c=t.method||(u?"POST":"GET"),d=!1,f=r(t.cors);f.open(c,t.url,!0);var l=f.onload=a(200);f.onreadystatechange=function(){4===f.readyState&&l()},f.onerror=a(null,"Error"),f.ontimeout=a(null,"Timeout"),f.onabort=a(null,"Abort"),u&&(n(s,"X-Requested-With","XMLHttpRequest"),e.FormData&&u instanceof e.FormData||n(s,"Content-Type","application/x-www-form-urlencoded"));for(var h,p=0,v=i.length;p<v;p++)h=i[p],void 0!==t[h]&&(f[h]=t[h]);for(var h in s)f.setRequestHeader(h,s[h]);return f.send(u),f}}).call(t,function(){return this}())}]);