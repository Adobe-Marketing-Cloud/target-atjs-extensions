/**
 * Copyright 2016 Adobe Systems, Inc. http://www.adobe.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};r.m=t,r.c=n,r.p="",r(0)}([function(t,r,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var o=n(1),u=e(o),a=n(26),i=e(a),f=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t};!function(t,r){function n(t){return t.indexOf("mboxDefault")===-1?(t?t+" ":"")+"mboxDefault":t}function e(t){return t.replace(/\bmboxDefault\b/,"")}function o(t){t=t||{};var r=null;return Object.keys(t).filter(function(t){return t.startsWith("data-")&&!(0,i.default)(["data-mbox","data-timeout"],t)}).forEach(function(n,e){0===e&&(r={}),r[n.substring(5)]=t[n]}),r}function a(t,r,n,e){return!(0,u.default)(t.mboxState.atParams,e)||r&&t.mboxState.mbox!==r||n&&t.mboxState.timeout!==n}function c(t,n){n.log("getOffers"),r.getOffer({mbox:t.mboxState.mbox,params:t.mboxState.atParams,timeout:t.mboxState.timeout,success:function(r){n.log("Applying"),adobe.target.applyOffer({mbox:t.mboxState.mbox,offer:r,element:t.mboxDiv}),t.mboxDiv.className=e(t.mboxDiv.className)},error:function(r,o){n.error("getOffer error: ",o,r),t.mboxDiv.className=e(t.mboxDiv.className)}})}function s(t,r){return t=t||{},{className:"mboxDefault","data-mbox":t.mbox||r.globalMboxName,"data-timeout":t.timeout||r.timeout}}function p(r){return t.createElement("div",f({ref:function(t){r.mboxDiv=t}},r.props,{className:n(r.props.className)}),r.props.children)}function l(t,r){r.log("MboxComponentDidMount"),t.mboxState={atParams:o(t.props),mbox:t.props["data-mbox"],timeout:parseInt(t.props["data-timeout"],10)},c(t,r)}function m(t,r,n){var e=r["data-mbox"],u=parseInt(r["data-timeout"],10),i=o(r);a(t,e,u,i)&&(t.mboxState={atParams:i||t.mboxState.atParams,mbox:e||t.mboxState.mbox,timeout:u||t.mboxState.timeout},c(t,n))}r.registerExtension({name:"react.createMboxComponent",modules:["settings","logger"],register:function(r,n){return function(e){return t.createClass({getInitialState:function(){return null},getDefaultProps:function(){return s(e,r)},render:function(){return p(this)},componentDidMount:function(){return l(this,n)},shouldComponentUpdate:function(){return!1},componentWillReceiveProps:function(t){return m(this,t,n)}})}}})}(React,adobe.target)},function(t,r,n){function e(t,r){return o(t,r)}var o=n(2);t.exports=e},function(t,r,n){function e(t,r,n,a,i){return t===r||(null==t||null==r||!u(t)&&!u(r)?t!==t&&r!==r:o(t,r,n,a,e,i))}var o=n(3),u=n(25);t.exports=e},function(t,r,n){function e(t,r,n,e,b,g){var h=c(t),_=c(r),y=h?x:f(t),O=_?x:f(r);y=y==m?v:y,O=O==m?v:O;var S=y==v,j=O==v,D=y==O;if(D&&s(t)){if(!s(r))return!1;h=!0,S=!1}if(D&&!S)return g||(g=new o),h||p(t)?u(t,r,n,e,b,g):a(t,r,y,n,e,b,g);if(!(n&l)){var P=S&&d.call(t,"__wrapped__"),w=j&&d.call(r,"__wrapped__");if(P||w){var N=P?t.value():t,k=w?r.value():r;return g||(g=new o),b(N,k,n,e,g)}}return!!D&&(g||(g=new o),i(t,r,n,e,b,g))}var o=n(4),u=n(12),a=n(18),i=n(19),f=n(22),c=n(14),s=n(23),p=n(24),l=1,m="[object Arguments]",x="[object Array]",v="[object Object]",b=Object.prototype,d=b.hasOwnProperty;t.exports=e},function(t,r,n){function e(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}var o=n(5),u=n(6),a=n(9),i=n(10),f=n(11);e.prototype.clear=o,e.prototype.delete=u,e.prototype.get=a,e.prototype.has=i,e.prototype.set=f,t.exports=e},function(t,r){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,r,n){function e(t){var r=this.__data__,n=o(r,t);return!(n<0)&&(n==r.length-1?r.pop():a.call(r,n,1),--this.size,!0)}var o=n(7),u=Array.prototype,a=u.splice;t.exports=e},function(t,r,n){function e(t,r){for(var n=t.length;n--;)if(o(t[n][0],r))return n;return-1}var o=n(8);t.exports=e},function(t,r){function n(t,r){return t===r||t!==t&&r!==r}t.exports=n},function(t,r,n){function e(t){var r=this.__data__,n=o(r,t);return n<0?void 0:r[n][1]}var o=n(7);t.exports=e},function(t,r,n){function e(t){return o(this.__data__,t)>-1}var o=n(7);t.exports=e},function(t,r,n){function e(t,r){var n=this.__data__,e=o(n,t);return e<0?(++this.size,n.push([t,r])):n[e][1]=r,this}var o=n(7);t.exports=e},function(t,r,n){function e(t,r,n,e,c,s){var p=n&i,l=t.length,m=r.length;if(l!=m&&!(p&&m>l))return!1;var x=s.get(t);if(x&&s.get(r))return x==r;var v=-1,b=!0,d=n&f?new o:void 0;for(s.set(t,r),s.set(r,t);++v<l;){var g=t[v],h=r[v];if(e)var _=p?e(h,g,v,r,t,s):e(g,h,v,t,r,s);if(void 0!==_){if(_)continue;b=!1;break}if(d){if(!u(r,function(t,r){if(!a(d,r)&&(g===t||c(g,t,n,e,s)))return d.push(r)})){b=!1;break}}else if(g!==h&&!c(g,h,n,e,s)){b=!1;break}}return s.delete(t),s.delete(r),b}var o=n(13),u=n(15),a=n(16),i=1,f=2;t.exports=e},function(t,r,n){function e(){if(!arguments.length)return[];var t=arguments[0];return o(t)?t:[t]}var o=n(14);t.exports=e},function(t,r){var n=Array.isArray;t.exports=n},function(t,r){function n(t,r){for(var n=-1,e=null==t?0:t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}t.exports=n},function(t,r,n){function e(t,r){return!!(null==t?0:t.length)&&o(t,r,0)>-1}var o=n(17);t.exports=e},function(t,r){function n(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}t.exports=n},function(t,r){function n(t,r){return t===r||t!==t&&r!==r}t.exports=n},function(t,r,n){function e(t,r,n,e,a,f){var c=n&u,s=o(t),p=s.length;if(p!=o(r).length&&!c)return!1;for(var l=p;l--;){var m=s[l];if(!(c?m in r:i.call(r,m)))return!1}var x=f.get(t);if(x&&f.get(r))return x==r;var v=!0;f.set(t,r),f.set(r,t);for(var b=c;++l<p;){m=s[l];var d=t[m],g=r[m];if(e)var h=c?e(g,d,m,r,t,f):e(d,g,m,t,r,f);if(!(void 0===h?d===g||a(d,g,n,e,f):h)){v=!1;break}b||(b="constructor"==m)}if(v&&!b){var _=t.constructor,y=r.constructor;_!=y&&"constructor"in t&&"constructor"in r&&!("function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y)&&(v=!1)}return f.delete(t),f.delete(r),v}var o=n(20),u=1,a=Object.prototype,i=a.hasOwnProperty;t.exports=e},function(t,r,n){var e=n(21),o=e(Object.keys,Object);t.exports=o},function(t,r){function n(t,r){return function(n){return t(r(n))}}t.exports=n},function(t,r){function n(t){return o.call(t)}var e=Object.prototype,o=e.toString;t.exports=n},function(t,r){function n(){return!1}t.exports=n},function(t,r){function n(){return!1}t.exports=n},function(t,r){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,r,n){function e(t,r){return!!(null==t?0:t.length)&&o(t,r,0)>-1}var o=n(17);t.exports=e}]);