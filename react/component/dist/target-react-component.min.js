/**
* Copyright 2016 Adobe Systems, Inc. http://www.adobe.com
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*  http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
"use strict";!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){var r=function(e){function r(t){n(this,r);var e=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.logger=console,e.queryParams=location.search,e}return a(r,e),u(r,[{key:"render",value:function(){return(0,f.onRender)(t,this)}},{key:"componentDidMount",value:function(){return(0,f.onComponentMounted)(this,this.logger)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(t){return(0,f.onComponentWillReceiveProps)(this,this.logger,t)}}]),r}(t.Component);return r.defaultProps=(0,f.getDefaultProps)(e),r}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.default=i;var f=r(1)},function(t,e,r){function n(t,e){if(!t.targetState.initialized)return void e.error("at-react-component:","window.adobe.target namespace is missing");var r=window.adobe.target;r.getOffer({mbox:t.targetState.mbox,params:t.targetState.atParams,timeout:t.targetState.timeout,success:function(e){r.applyOffer({mbox:t.targetState.mbox,offer:e,selector:t.targetDiv}),t.targetDiv.className=(0,c.removeMboxClass)(t.targetDiv.className)},error:function(r,n){e.error("getOffer error: ",n,r),t.targetDiv.className=(0,c.removeMboxClass)(t.targetDiv.className)}})}function o(t){return t=t||{},{className:"mboxDefault","data-mbox":t.mbox||"default-mbox","data-timeout":t.timeout||3e3}}function a(t,e){return e.targetState={initialized:Boolean(window.adobe&&window.adobe.target),editMode:-1!==e.queryParams.indexOf("mboxEdit")},e.targetState.initialized?t.createElement("div",f({ref:function(t){e.targetDiv=t}},e.props,{className:(0,c.appendMboxClass)(e)}),e.props.children):t.createElement("div",e.props,e.props.children)}function i(t,e){if(!t.targetState.initialized)return void e.error("at-react-component:","window.adobe.target namespace is missing");var r=t.targetState;if(r.atParams=(0,c.getParams)(t.props),r.mbox=t.props["data-mbox"],r.timeout=parseInt(t.props["data-timeout"],10),"default-mbox"===r.mbox)return void e.error("at-react-component:","mbox prop must be provided for each Target component!");r.editMode||n(t,e)}function u(t,e,r){if(!t.targetState.initialized)return void e.error("at-react-component:","window.adobe.target namespace is missing");var o=r["data-mbox"],a=parseInt(r["data-timeout"],10),i=(0,c.getParams)(r);if((0,c.haveOptionsChanged)(t,o,a,i)){var u=t.targetState;u.atParams=i||u.atParams,u.mbox=o||u.mbox,u.timeout=a||u.timeout,u.editMode||n(t,e)}}Object.defineProperty(e,"__esModule",{value:!0});var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.getOffers=n,e.getDefaultProps=o,e.onRender=a,e.onComponentMounted=i,e.onComponentWillReceiveProps=u;var c=r(2)},function(t,e,r){function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.props.className,r=t.props["data-mbox"];return t.targetState.editMode?"mbox-name-"+r:-1===e.indexOf("mboxDefault")?(e?e+" ":"")+"mboxDefault":e}function a(t){return t.replace(/\bmboxDefault\b/,"")}function i(t){t=t||{};var e=null;return Object.keys(t).filter(function(t){return 0===t.indexOf("data-")&&!(0,p.default)(["data-mbox","data-timeout"],t)}).forEach(function(r,n){0===n&&(e={}),e[r.substring(5)]=t[r]}),e}function u(t,e,r,n){var o=t.targetState;return!(0,c.default)(o.atParams,n)||e&&o.mbox!==e||r&&o.timeout!==r}Object.defineProperty(e,"__esModule",{value:!0});var f=r(3),c=n(f),s=r(28),p=n(s);e.appendMboxClass=o,e.removeMboxClass=a,e.getParams=i,e.haveOptionsChanged=u},function(t,e,r){function n(t,e){return o(t,e)}var o=r(4);t.exports=n},function(t,e,r){function n(t,e,r,i,u){return t===e||(null==t||null==e||!a(t)&&!a(e)?t!==t&&e!==e:o(t,e,r,i,n,u))}var o=r(5),a=r(27);t.exports=n},function(t,e,r){function n(t,e,r,n,b,x){var h=c(t),y=c(e),_=h?v:f(t),O=y?v:f(e);_=_==d?m:_,O=O==d?m:O;var w=_==m,P=O==m,j=_==O;if(j&&s(t)){if(!s(e))return!1;h=!0,w=!1}if(j&&!w)return x||(x=new o),h||p(t)?a(t,e,r,n,b,x):i(t,e,_,r,n,b,x);if(!(r&l)){var M=w&&g.call(t,"__wrapped__"),S=P&&g.call(e,"__wrapped__");if(M||S){var C=M?t.value():t,D=S?e.value():e;return x||(x=new o),b(C,D,r,n,x)}}return!!j&&(x||(x=new o),u(t,e,r,n,b,x))}var o=r(6),a=r(14),i=r(20),u=r(21),f=r(24),c=r(16),s=r(25),p=r(26),l=1,d="[object Arguments]",v="[object Array]",m="[object Object]",b=Object.prototype,g=b.hasOwnProperty;t.exports=n},function(t,e,r){function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}var o=r(7),a=r(8),i=r(11),u=r(12),f=r(13);n.prototype.clear=o,n.prototype.delete=a,n.prototype.get=i,n.prototype.has=u,n.prototype.set=f,t.exports=n},function(t,e){function r(){this.__data__=[],this.size=0}t.exports=r},function(t,e,r){function n(t){var e=this.__data__,r=o(e,t);return!(r<0)&&(r==e.length-1?e.pop():i.call(e,r,1),--this.size,!0)}var o=r(9),a=Array.prototype,i=a.splice;t.exports=n},function(t,e,r){function n(t,e){for(var r=t.length;r--;)if(o(t[r][0],e))return r;return-1}var o=r(10);t.exports=n},function(t,e){function r(t,e){return t===e||t!==t&&e!==e}t.exports=r},function(t,e,r){function n(t){var e=this.__data__,r=o(e,t);return r<0?void 0:e[r][1]}var o=r(9);t.exports=n},function(t,e,r){function n(t){return o(this.__data__,t)>-1}var o=r(9);t.exports=n},function(t,e,r){function n(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var o=r(9);t.exports=n},function(t,e,r){function n(t,e,r,n,c,s){var p=r&u,l=t.length,d=e.length;if(l!=d&&!(p&&d>l))return!1;var v=s.get(t);if(v&&s.get(e))return v==e;var m=-1,b=!0,g=r&f?new o:void 0;for(s.set(t,e),s.set(e,t);++m<l;){var x=t[m],h=e[m];if(n)var y=p?n(h,x,m,e,t,s):n(x,h,m,t,e,s);if(void 0!==y){if(y)continue;b=!1;break}if(g){if(!a(e,function(t,e){if(!i(g,e)&&(x===t||c(x,t,r,n,s)))return g.push(e)})){b=!1;break}}else if(x!==h&&!c(x,h,r,n,s)){b=!1;break}}return s.delete(t),s.delete(e),b}var o=r(15),a=r(17),i=r(18),u=1,f=2;t.exports=n},function(t,e,r){function n(){if(!arguments.length)return[];var t=arguments[0];return o(t)?t:[t]}var o=r(16);t.exports=n},function(t,e){var r=Array.isArray;t.exports=r},function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}t.exports=r},function(t,e,r){function n(t,e){return!!(null==t?0:t.length)&&o(t,e,0)>-1}var o=r(19);t.exports=n},function(t,e){function r(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}t.exports=r},function(t,e){function r(t,e){return t===e||t!==t&&e!==e}t.exports=r},function(t,e,r){function n(t,e,r,n,i,f){var c=r&a,s=o(t),p=s.length;if(p!=o(e).length&&!c)return!1;for(var l=p;l--;){var d=s[l];if(!(c?d in e:u.call(e,d)))return!1}var v=f.get(t);if(v&&f.get(e))return v==e;var m=!0;f.set(t,e),f.set(e,t);for(var b=c;++l<p;){d=s[l];var g=t[d],x=e[d];if(n)var h=c?n(x,g,d,e,t,f):n(g,x,d,t,e,f);if(!(void 0===h?g===x||i(g,x,r,n,f):h)){m=!1;break}b||(b="constructor"==d)}if(m&&!b){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return f.delete(t),f.delete(e),m}var o=r(22),a=1,i=Object.prototype,u=i.hasOwnProperty;t.exports=n},function(t,e,r){var n=r(23),o=n(Object.keys,Object);t.exports=o},function(t,e){function r(t,e){return function(r){return t(e(r))}}t.exports=r},function(t,e){function r(t){return o.call(t)}var n=Object.prototype,o=n.toString;t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e){function r(){return!1}t.exports=r},function(t,e){function r(t){return null!=t&&"object"==typeof t}t.exports=r},function(t,e,r){function n(t,e){return!!(null==t?0:t.length)&&o(t,e,0)>-1}var o=r(19);t.exports=n}])});