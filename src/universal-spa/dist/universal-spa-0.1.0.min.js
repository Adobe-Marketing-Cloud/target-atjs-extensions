/**
 * Copyright 2016 Adobe Systems, Inc. http://www.adobe.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){"use strict";var t={},r=[],n=function(){},i=function(e){var t=document.getElementsByTagName("head")[0];if(t){var r=document.createElement("style");r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=e.join("\n"):r.appendChild(document.createTextNode(e.join("\n"))),t.insertBefore(r,t.firstChild)}},o=function(e){if("string"==typeof e.selector&&e.mbox!==t.globalMboxName){var r=[e.selector+"{visibility:hidden}"];i(r)}},a=function(e){var t=document.querySelector(e);n("revealElement",e,t),t&&(t.style.visibility="visible")},s=function(e,t){n("applyOnElementReady",e),document.querySelector(e)?t():r.push({selector:e,callback:t})},u=function(){for(var e=r.length;e--;){var t=r[e],n=document.querySelector(t.selector);n&&(t.callback(n),r.splice(e,1))}},c=function(r){n("sendTargetCall",r);var i=r.mbox===t.globalMboxName;i||o(r),e.getOffer({mbox:r.mbox,params:r.params||{},success:function(t){if(i)e.applyOffer({offer:t});else{var o=r.selector;s(o,function(){e.applyOffer({offer:t,selector:o}),a(o),n("done apply offer and reveal element",o)})}n("getOffer success response",t)},error:function(e,t){i||s(r.selector,function(){a(r.selector)}),n("Error",e,t)}})},l=function(e,r,i){t=e,n=function(e){Array.prototype.unshift.call(arguments,"ATX-receiver:"),r.log.apply(this,arguments)},document.addEventListener("atx-target-call-ready",function(e){n("Custom event notification",e),c(e.detail)},!1),document.addEventListener("atx-mutation-observed",function(e){n("Custom event notification",e),u()},!1)};e.registerExtension({name:"universal.receiver",modules:["settings","logger"],register:function(e,t){return function(r){l(e,t)}}})}(adobe.target),adobe.target.ext.universal.receiver(),/*
 * Copyright 2012 The Polymer Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style
 * license that can be found in the LICENSE file.
 */
"undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,r=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};r.prototype={set:function(t,r){var n=t[this.name];return n&&n[0]===t?n[1]=r:e(t,this.name,{value:[t,r],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];if(!t)return!1;var r=t[0]===e;return t[0]=t[1]=void 0,r},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=r}(),/*
 * Copyright 2012 The Polymer Authors. All rights reserved.
 * Use of this source code is goverened by a BSD-style
 * license that can be found in the LICENSE file.
 */
function(e){function t(e){E.push(e),y||(y=!0,m(n))}function r(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function n(){y=!1;var e=E;E=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var r=e.takeRecords();i(e),r.length&&(e.callback_(r,e),t=!0)}),t&&n()}function i(e){e.nodes_.forEach(function(t){var r=b.get(t);r&&r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var r=e;r;r=r.parentNode){var n=b.get(r);if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o.options;if(r===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++O}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function c(e,t){return N=new s(e,t)}function l(e){return M||(M=u(N),M.oldValue=e,M)}function d(){N=M=void 0}function f(e){return e===M||e===N}function v(e,t){return e===t?e:M&&f(e)?M:null}function h(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}var b=new WeakMap,m=window.msSetImmediate;if(!m){var g=[],p=String(Math.random());window.addEventListener("message",function(e){if(e.data===p){var t=g;g=[],t.forEach(function(e){e()})}}),m=function(e){g.push(e),window.postMessage(p,"*")}}var y=!1,E=[],O=0;a.prototype={observe:function(e,t){if(e=r(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=b.get(e);n||b.set(e,n=[]);for(var i,o=0;o<n.length;o++)if(n[o].observer===this){i=n[o],i.removeListeners(),i.options=t;break}i||(i=new h(this,e,t),n.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=b.get(e),r=0;r<t.length;r++){var n=t[r];if(n.observer===this){n.removeListeners(),t.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var N,M;h.prototype={enqueue:function(e){var r=this.observer.records_,n=r.length;if(r.length>0){var i=r[n-1],o=v(i,e);if(o)return void(r[n-1]=o)}else t(this.observer);r[n]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=b.get(e);t||b.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=b.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,r=e.relatedNode.namespaceURI,n=e.target,i=new c("attributes",n);i.attributeName=t,i.attributeNamespace=r;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(n,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(r)))return e.attributeOldValue?l(a):i});break;case"DOMCharacterDataModified":var n=e.target,i=c("characterData",n),a=e.prevValue;o(n,function(e){if(e.characterData)return e.characterDataOldValue?l(a):i});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,u,n=e.relatedNode,f=e.target;"DOMNodeInserted"===e.type?(s=[f],u=[]):(s=[],u=[f]);var v=f.previousSibling,h=f.nextSibling,i=c("childList",n);i.addedNodes=s,i.removedNodes=u,i.previousSibling=v,i.nextSibling=h,o(n,function(e){if(e.childList)return i})}d()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a)}(this),function(e){"use strict";function t(e,t,r,n){e.addEventListener(t,function(e){for(var t=e.target;t&&t!==this;)t.matches(r)&&n.call(t,e),t=t.parentNode})}var r=[],n="",i={childList:!0,subtree:!0},o=function(){};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1});var a=function(e){return Array.isArray(e)&&e.length>0||!1},s=function(e,t){for(var r=t.length-1;r>=0;r--){var n=t[r];if("object"==typeof n&&!0===n.test(e))return!0;if(-1!==e.indexOf(n))return!0}return!1},u=function(e,t){var r=!0;return a(t.allow)&&(r=s(e,t.allow)),a(t.disallow)&&(r=!s(e,t.disallow)),r},c=function(){l();var e=new MutationObserver(function(e){var t=new CustomEvent("atx-mutation-observed",{detail:{}});document.dispatchEvent(t),l()}),t=document.body;t?e.observe(t,i):document.addEventListener("DOMContentLoaded",function(){t=document.body,e.observe(t,i)},!1)},l=function(){o("validateTargetCalls");var e=window.location.href;if(e!==n){n=e;for(var t=!1,i=0;i<r.rules.length;i++){var a=r.rules[i];"string"==typeof a.mbox&&(u(n,a)?(!1===t&&r.before(),d(a),t=!0):o("rule excluded",a))}if(t){var s=new CustomEvent("atx-target-call-sent");document.dispatchEvent(s),r.after(),o("Target call sent",n)}}},d=function(e){o("sendTargetCall",e);var t=new CustomEvent("atx-target-call-ready",{detail:e});document.dispatchEvent(t)},f=function(){for(var e=0;e<r.rules.length;e++)!function(e){if("domEventNotifications"in e){var r=e.domEventNotifications;o("applying domEventNotifications",r);for(var i in r)if(r.hasOwnProperty(i))for(var a=r[i],s=0;s<a.length;s++)!function(r){var a=r.selector;t(document,i,a,function(){u(n,r)&&(o("delegate callback for action",r),d(e))})}(a[s])}}(r.rules[e])},v=function(e,t,n,i,a){r={rules:n,globalMboxName:e.globalMboxName,before:"function"==typeof i?i:function(){},after:"function"==typeof a?a:function(){}},o=function(e){Array.prototype.unshift.call(arguments,"ATX-router:"),t.log.apply(this,arguments)},c(),f()};e.registerExtension({name:"universal.router",modules:["settings","logger"],register:function(e,t){return function(r){v(e,t,r.rules,r.beforeTargetRequest,r.afterTargetRequest)}}})}(adobe.target),adobe.target.ext.universal.router({rules:[{mbox:"target-global-mbox"}],beforeTargetRequest:function(){if(console&&console.log("ATX-router beforeTargetRequest"),"function"==typeof Visitor){var e=Visitor.getInstance("Marketing_Cloud_organization_ID@AdobeOrg");"function"==typeof e.resetState&&(e.resetState(),console&&console.log("ATX-router A4T SDID Renew: visitor.resetState"))}},afterTargetRequest:function(){console&&console.log("ATX-router afterTargetRequest")}});