/**
 * Copyright 2016 Adobe Systems, Inc. http://www.adobe.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};!function(t,e){function o(t,e){return{mbox:t.mbox||e.globalMboxName,params:t.params||null,timeout:t.timeout||e.timeout}}function n(e){return t.createElement("div",_extends({ref:function(t){e.mboxDiv=t}},e.props),e.props.children)}function r(t,o){o.log("MboxComponentDidMount"),e.getOffer({mbox:t.props.mbox,params:t.props.params,timeout:t.props.timeout,success:function(e){t.setState({offerData:e})},error:function(t,e){o.log("getOffer error: ",e,t)}})}function a(t,e){e.log("MboxComponentDidUpdate"),adobe.target.applyOffer({mbox:t.props.mbox,offer:t.state.offerData,element:t.mboxDiv})}e.registerExtension({name:"react.createMboxComponent",modules:["settings","logger"],register:function(e,i){return function(u){return t.createClass({getDefaultProps:function(){return o(u,e)},render:function(){return n(this)},componentDidMount:function(){return r(this,i)},componentDidUpdate:function(){return a(this,i)}})}}})}(React,adobe.target);