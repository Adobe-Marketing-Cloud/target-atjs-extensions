!function(e,t,o){"use strict";function n(e,t){t.forEach(function(t){e.requires.indexOf(t)===-1&&e.requires.push(t)})}function i(e){e.directive("mbox",["logger","options","offerService",function(e,t,o){return{restrict:"AE",link:{pre:function(e,t,o,n){t.css("visibility","hidden")},post:function(n,i,r,a){o.getOfferPromise({mbox:r.mboxname,params:t.params,timeout:t.timeout,element:i[0]}).then(o.applyOfferPromise)["catch"](function(t){e.log("mboxDirective error: "+t)})["finally"](function(){i.css("visibility","visible")})}}}}])}function r(t,o,n,i){return t.isRouteAllowed(o,n.allowedRoutesFilter,n.disallowedRoutesFilter)&&null===e.getElementById(i)&&e.querySelectorAll(n.selector).length>0}function a(e,t,o,n,i){if(n.appendToSelector){var r=e('<div id="'+i+'" mbox data-mboxname="'+n.mbox+'"></div>')(o);t.append(r)}else t.attr("mbox",""),t.attr("data-mboxname",n.mbox),t.attr("id",i),e(t)(o)}function l(o){o.run(["$rootScope","$injector","$location","$compile","routeUtil","options","logger",function(o,n,i,l,c,u,m){o.$on("$viewContentLoaded",function(o,n,s){var d=i.path();m.log("$viewContentLoaded "+d);var f=u.mbox+"-dir";if(r(c,d,u,f)){var p=t.element(e.querySelector(u.selector));a(l,p,p.scope(),u,f),m.log((u.appendToSelector?"appended":"created")+" mbox directive",u.mbox)}})}])}o.registerExtension({name:"angular.initDirective",register:function(){return function(e,r){o.ext.angular.setupCommon(r);var a="string"==typeof e?t.module(e):e;n(a,["target-angular.common"]),i(a),l(a)}}})}(document,angular,adobe.target);