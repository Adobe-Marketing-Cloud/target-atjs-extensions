/**
 * Copyright 2016 Adobe Systems, Inc. http://www.adobe.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};r.m=t,r.c=n,r.p="",r(0)}([function(t,r,n){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var o=n(1),a=e(o),u=n(26),i=e(u),f=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t};!function(t,r){function n(t){return t.indexOf("mboxDefault")===-1?(t?t+" ":"")+"mboxDefault":t}function e(t){return t.replace(/\bmboxDefault\b/,"")}function o(t){t=t||{};var r=null;return Object.keys(t).filter(function(t){return t.startsWith("data-")&&!(0,i.default)(["data-mbox","data-timeout"],t)}).forEach(function(n,e){0===e&&(r={}),r[n.substring(5)]=t[n]}),r}function u(t,r,n,e){return!(0,a.default)(t.state.atParams,e)||r&&t.state.mbox!==r||n&&t.state.timeout!==n}function c(t,n){n.log("getOffers"),r.getOffer({mbox:t.state.mbox,params:t.state.atParams,timeout:t.state.timeout,success:function(r){n.log("Applying"),adobe.target.applyOffer({mbox:t.state.mbox,offer:r,element:t.mboxDiv}),t.mboxDiv.className=e(t.mboxDiv.className)},error:function(r,o){n.error("getOffer error: ",o,r),t.mboxDiv.className=e(t.mboxDiv.className)}})}function s(t){return t=t||{},{atParams:t.params||null}}function p(t,r){return t=t||{},{className:"mboxDefault","data-mbox":t.mbox||r.globalMboxName,"data-timeout":t.timeout||r.timeout}}function l(r){return t.createElement("div",f({ref:function(t){r.mboxDiv=t}},r.props,{className:n(r.props.className)}),r.props.children)}function v(t,r){r.log("MboxComponentDidMount"),t.setState({atParams:o(t.props),mbox:t.props["data-mbox"],timeout:parseInt(t.props["data-timeout"],10)}),c(t,r)}function m(t,r,n){var e=r["data-mbox"],a=parseInt(r["data-timeout"],10),i=o(r);u(t,e,a,i)&&(t.setState({atParams:i||t.state.atParams,mbox:e||t.state.mbox,timeout:a||t.state.timeout}),c(t,n))}r.registerExtension({name:"react.createMboxComponent",modules:["settings","logger"],register:function(r,n){return function(e){return t.createClass({getInitialState:function(){return s(e)},getDefaultProps:function(){return p(e,r)},render:function(){return l(this)},componentDidMount:function(){return v(this,n)},shouldComponentUpdate:function(){return!1},componentWillReceiveProps:function(t){return m(this,t,n)}})}}})}(React,adobe.target)},function(t,r,n){function e(t,r){return o(t,r)}var o=n(2);t.exports=e},function(t,r,n){function e(t,r,n,u,i){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:o(t,r,n,u,e,i))}var o=n(3),a=n(25);t.exports=e},function(t,r,n){function e(t,r,n,e,b,g){var h=c(t),_=c(r),y=h?m:f(t),O=_?m:f(r);y=y==v?x:y,O=O==v?x:O;var j=y==x,D=O==x,P=y==O;if(P&&s(t)){if(!s(r))return!1;h=!0,j=!1}if(P&&!j)return g||(g=new o),h||p(t)?a(t,r,n,e,b,g):u(t,r,y,n,e,b,g);if(!(n&l)){var w=j&&d.call(t,"__wrapped__"),N=D&&d.call(r,"__wrapped__");if(w||N){var k=w?t.value():t,A=N?r.value():r;return g||(g=new o),b(k,A,n,e,g)}}return!!P&&(g||(g=new o),i(t,r,n,e,b,g))}var o=n(4),a=n(12),u=n(18),i=n(19),f=n(22),c=n(14),s=n(23),p=n(24),l=1,v="[object Arguments]",m="[object Array]",x="[object Object]",b=Object.prototype,d=b.hasOwnProperty;t.exports=e},function(t,r,n){function e(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}var o=n(5),a=n(6),u=n(9),i=n(10),f=n(11);e.prototype.clear=o,e.prototype.delete=a,e.prototype.get=u,e.prototype.has=i,e.prototype.set=f,t.exports=e},function(t,r){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,r,n){function e(t){var r=this.__data__,n=o(r,t);return!(n<0)&&(n==r.length-1?r.pop():u.call(r,n,1),--this.size,!0)}var o=n(7),a=Array.prototype,u=a.splice;t.exports=e},function(t,r,n){function e(t,r){for(var n=t.length;n--;)if(o(t[n][0],r))return n;return-1}var o=n(8);t.exports=e},function(t,r){function n(t,r){return t===r||t!==t&&r!==r}t.exports=n},function(t,r,n){function e(t){var r=this.__data__,n=o(r,t);return n<0?void 0:r[n][1]}var o=n(7);t.exports=e},function(t,r,n){function e(t){return o(this.__data__,t)>-1}var o=n(7);t.exports=e},function(t,r,n){function e(t,r){var n=this.__data__,e=o(n,t);return e<0?(++this.size,n.push([t,r])):n[e][1]=r,this}var o=n(7);t.exports=e},function(t,r,n){function e(t,r,n,e,c,s){var p=n&i,l=t.length,v=r.length;if(l!=v&&!(p&&v>l))return!1;var m=s.get(t);if(m&&s.get(r))return m==r;var x=-1,b=!0,d=n&f?new o:void 0;for(s.set(t,r),s.set(r,t);++x<l;){var g=t[x],h=r[x];if(e)var _=p?e(h,g,x,r,t,s):e(g,h,x,t,r,s);if(void 0!==_){if(_)continue;b=!1;break}if(d){if(!a(r,function(t,r){if(!u(d,r)&&(g===t||c(g,t,n,e,s)))return d.push(r)})){b=!1;break}}else if(g!==h&&!c(g,h,n,e,s)){b=!1;break}}return s.delete(t),s.delete(r),b}var o=n(13),a=n(15),u=n(16),i=1,f=2;t.exports=e},function(t,r,n){function e(){if(!arguments.length)return[];var t=arguments[0];return o(t)?t:[t]}var o=n(14);t.exports=e},function(t,r){var n=Array.isArray;t.exports=n},function(t,r){function n(t,r){for(var n=-1,e=null==t?0:t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}t.exports=n},function(t,r,n){function e(t,r){return!!(null==t?0:t.length)&&o(t,r,0)>-1}var o=n(17);t.exports=e},function(t,r){function n(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}t.exports=n},function(t,r){function n(t,r){return t===r||t!==t&&r!==r}t.exports=n},function(t,r,n){function e(t,r,n,e,u,f){var c=n&a,s=o(t),p=s.length;if(p!=o(r).length&&!c)return!1;for(var l=p;l--;){var v=s[l];if(!(c?v in r:i.call(r,v)))return!1}var m=f.get(t);if(m&&f.get(r))return m==r;var x=!0;f.set(t,r),f.set(r,t);for(var b=c;++l<p;){v=s[l];var d=t[v],g=r[v];if(e)var h=c?e(g,d,v,r,t,f):e(d,g,v,t,r,f);if(!(void 0===h?d===g||u(d,g,n,e,f):h)){x=!1;break}b||(b="constructor"==v)}if(x&&!b){var _=t.constructor,y=r.constructor;_!=y&&"constructor"in t&&"constructor"in r&&!("function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y)&&(x=!1)}return f.delete(t),f.delete(r),x}var o=n(20),a=1,u=Object.prototype,i=u.hasOwnProperty;t.exports=e},function(t,r,n){var e=n(21),o=e(Object.keys,Object);t.exports=o},function(t,r){function n(t,r){return function(n){return t(r(n))}}t.exports=n},function(t,r){function n(t){return o.call(t)}var e=Object.prototype,o=e.toString;t.exports=n},function(t,r){function n(){return!1}t.exports=n},function(t,r){function n(){return!1}t.exports=n},function(t,r){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,r,n){function e(t,r){return!!(null==t?0:t.length)&&o(t,r,0)>-1}var o=n(17);t.exports=e}]);